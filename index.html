<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
   <link rel=StyleSheet href="../../other/css_home/home.css" type="text/css">
   <link rel="icon" href="/other/favicon.ico" type="image/x-icon">
   <link rel="shortcut icon" href="/other/favicon.ico" type="image/x-icon">
   <meta name="author" content="Adrian Rossiter">
   <meta http-equiv="reply-to" content="adrian_r@antiprism.com">
<title>Friendship Bracelet Normal Pattern Solver</title>
</head>
<body>
<table cellpadding=2 cellspacing=10 border=0 width="100%">
<tr bgcolor="#E080E0" align=center>
   <td colspan=6>
   <table border=0 cellpadding=5 cellspacing=0 width="100%">
   <tr>
      <td class=titlebox><h1>Friendship Bracelet Normal Pattern Solver</h1></td>
   </tr>
   </table>
   </td>
</tr>
<tr align=CENTER>
<td width="30%" class=menubox><a href="/adrian"><B>Home</b></a></td>
<td width="30%" class=menubox><a href="/"><b>Antiprism</b></a></td>
<td width="30%" class=menubox><a href="/other"><b>Other Programs</b></a></td>
</tr>
</table>


<h2>Introduction to the Bracelet Solver</h2>

<i>bracelet_solver</i> is a small command line utility to
find a knotting pattern for a friendship bracelet design. It is
currently only available for Windows.

<h2>Download and Installation</h2>

The current version is <i>bracelet_solver 0.01</i>. This first alpha
release has not been extensively tested and likely contains a number
of bugs. To help improve the program, please report any issues to me at
<a href="mailto:adrian@antiprism.com">adrian@antiprism.com</a>.
<p>
There is no installer. Download the following executables
<ul>
<li><a href="bracelet_solver.exe"><b>bracelet_solver.exe</b></a>
    : find knotting patterns for bracelet designs
<li><a href="pat2design.exe"><b>pat2design.exe</b></a>
    : (optional) convert a published pattern into a bracelet design
</ul>

Then copy them to a directory in your PATH, or the directory
where you will be working.

<h2>Preparing the Bracelet Design File</h2>

The starting point is the bracelet design. This is a repeatable section
of a bracelet described by the colours of the knots in each line.
You can make an original design by following this
<a href="http://friendship-bracelets.net/tutorial.php?id=114">bracelet
design tutorial</a>,
or you could modify an existing pattern from the
<a href="http://friendship-bracelets.net/patterns2.php">Friendship-bracelets.net patterns database</a>
<p>
The bracelet design must be converted to a simple text format and
written to a file. This file can be prepared and edited using a
text editor such as Windows notepad.
<p>
To convert the design, assign a single character to each colour
in the bracelet (letters are case sensitive). Enter each line of knots in
the bracelet section in order as line of text, with each knot in the line
being represented by its colour character. Spaces can be used to
improve the readability.
<p>
If you wish to modify a bracelet from the
<a href="http://friendship-bracelets.net/patterns2.php">patterns database</a>,
you can easily copy the design into a file using the
<a href="#pat2design">pat2design</a> utility.


<h3>Example Bracelet Design Files</h3>

A simple example is a
<a href="http://friendship-bracelets.net/pattern.php?id=2">2-colour chevron</a>.
<p>
The design has two colours: yellow and red. Assign the character 'y' to
yellow, and 'r' to red. The design has four lines of knots, the number
of knots in the lines alternate between 4 and 3. The bracelet design file
would contain the following text (optional spaces have been added for clarity),
and can be download as
<a href="design2.txt">design2.txt</a>

<div>
<pre class="file">
y r r y
 y r y
r y y r
 r y r
</pre>
</div>


It would work equally well to assign '0' to red and '1' to yellow and leave
out the spaces. The file would contain the following text, and give exactly
the same results.

<div>
<pre class=file>
1001
101
0110
010
</pre>
</div>


<h2>Running the Program</h2>

The program is a command line utility, and meant to be run from
a DOS box or similar. The DOS box can generally be started from
the Windows menu in the Accessories section.
<p>
The program accepts a bracelet design file and produces a report
with information about the design and a list of the knotting
solutions that the program finds. For more help on the program
and its options run
<pre class="cmd">
bracelet_solver -h
</pre>
<p>
A typical way to run the program is as follows
<pre class="cmd">
bracelet_solver design2.txt &gt; report_design2.txt
</pre>
The program reads the design from the file <i>design2.txt</i> and writes the
report into the file <i>report_design2.txt</i>. You can view the report
file with a text processor or word processor.
<p>
When run this way the program will try to find a single solution (find
more by setting the option <i>-k</i>) for each of a wide range of
combinations of strings. It finds solutions quickly, but is not thorough.
<p>
Another way to run the program is to specify a particular set
of strings. This will find the knotting paterns (set option
<i>-k</i> to find more than one) that start with the set of strings.
For example, the following command finds 8 distinct knotting patterns
that start and end with the particular set of stings.
<pre class="cmd">
bracelet_solver -s yrryyrry design2.txt -k 0 &gt; report_design2.txt
</pre>

<b>Note</b>: when using option <i>-s</i>, it may take
a long (minutes), or <i>very</i> long, time to find
a set of solutions for larger designs with few colours.

<h2>The Report and Solutions</h2>

The report contains some extra information to show how individual
solutions are arrived at. If you are just interested in the solutions
themselves then they are easy enough to pick out, and are documented
below under
<a href="#knot_vars">Information about knotting variations</a>.


<h3>Information about the bracelet design</h3>

General information about the design.

<dl>
<dt>Knot pattern to solve
<dd>The input bracelet design
<dt>Number of colours
<dd>Total number of different colours in the design
<dt>Number of strings
<dd>Number of strings that will be used in the knotting pattern
<dt>Required string colour counts
<dd>A list of the colours, and how many strings are required to be that colour
</dl>

<h3>Information about strings sets</h3>

One or more solutions were found for a set of strings of various colours.

<dl>
<dt>Free string colour counts
<dd>The string to the top right of each knot on the first row is assigned
    the colour of that knot. The other strings are the free strings, and
    are assigned colours from remaining required colours and a combination
    of other colours to try.
<dt>STRINGS NO.
<dd>The order number for the particular set of free strings
<dt>Fixed strings
<dd>The strings to the top right of the knots on the first row. These
    will not change for this set of strings.
<dt>Permuted strings
<dd>The other strings, in their initial order, which will be permuted
    to find solutions.
</dl>

<h3>Information about permutations</h3>

One or more solutions were found for a particular permutation of the set
of strings.

<dl>
<dt>PERMUTATION NO.
<dd>The order number for the particular permutation of free strings
    in this string set.
<dt>Fixed strings
<dd>The strings to the top right of the knots on the first row.
<dt>Permutation
<dd>The permutation of the other strings, which together with the fixed
    strings form a specific set of strings to be tested for knotting
    solutions.
</dl>

<a name="knot_vars"></a>
<h3>Information about knotting variations (solutions)</h3>

A knotting solution that was found for the particular permutation of
the strings.

<dl>
<dt>KNOTTING VARIATION
<dd>The order number for the particular knotting variation for
    this permutation of free strings (in this string set.)
<dt>Solution no.
<dd>The order number for this solution, among all solutions so far found.
<dt>Base strings
<dd>The actual strings tested. If followed by the word <i>Reordered</i>,
    then the initial strings in the pattern were reordered to make them
    match the end strings. This ensures that the bracelet section will repeat.
<dt>Text pattern format
<dd>The numbered knot lines are sandwiched above and below by strings.
    The two strings above a knot lead into the knot, and then exit as
    the two strings below. If the two strings are the same colour use
    any knot type to tie the knot. Otherwise, if the top left (right)
    string colour matches the knot colour the first half o the knot
    is a forward (backward), and if the bottom left (right) string
    matches the knot colour the second half of the knot is a backward
    (forward).
<dt>Generator pattern format
<dd>Use this with the
<a  href="http://friendship-bracelets.net/js_gen.php">Friendship-bracelets.net Alternative Generator</a>
    Add more or less rows or strings to match the knot rows and strings
    in the solution pattern. Set up the string colours to match the
    input strings. Click the "Show console" box. Select and copy the
    knot text (don't include the string line) from the solution, then
    select the text in the console box and paste
    in the solution, replacing the original knot text. Add a string and
    then remove a string to refresh the displayed pattern with the new
    solution knots.
</dl>


<h2>Program Help</h2>

The program help can be printed with <i>bracelet_solver -h</i>.
<!-- bracelet_solver -h -->
<pre>


Usage: bracelet_solver [options] bracelet_design_file

Read a text file containing a bracelet design, a formatted text
representation of a repeating section of a bracelet, and find
sets of strings and knotting patterns that will produce this section.
Produce a report of solutions and write it to standard output

bracelet_design_file
A text file holding the knot lines and colours for a repeating section
of a bracelet, in the following simple format. Assign a single character
to each colour in the bracelet (letters are case sensitve). Enter each
line of knots in the bracelet section in order as line of text, with each
knot in the line represented by its colour character. The final text file
will have an even number of lines, and as many lines as there are lines
of knots in the bracelet section. If the first line has N knots, either
all the lines will have N knots, or the lines will alternate between
N and N-1 knots. Not all patterns have solutions!

Options
  -h        print this help text
  -v        print the program version and licence
  -n num    maximum number of solutions to find, 0 for no limit
            (default: 1000)
  -k num    maximum number of knotting variations to find for each
            string permutation, 0 for no limit (default: 1)
  -s strs   find all exact solutions for a specific set of strings (might
            take some time!)
</pre>

<h2>Program Licence</h2>

The program licence can be printed with <i>bracelet_solver -v</i>.
The terms of the licence mean that the program executable can be freely shared.

<!-- bracelet_solver -v -->
<pre>
bracelet_solver 0.01

Copyright 2013 Adrian Rossiter &lt;adrian@antiprism.com&gt;
               http://www.antiprism.com/other/bracelet_solver.html

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the 'Software'),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:

   The above copyright notice and this permission notice shall be included
   in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
IN THE SOFTWARE.

</pre>

<a name="pat2design"></a>
<h2>pat2design</h2>

<i>pat2design</i> is a very basic utility for converting a published
pattern into a bracelet design input file for <i>bracelet_solver</i>.
This makes it easier to modify an existing pattern, as it saves having
to convert the pattern by hand.
<p>
Make an input pattern file, in exactly the same format as the generator pattern
text produced in <i>bracelet_solver</i> report. This is a line of characters
to represent the string colours, followed by a knotting pattern. The knotting
pattern is copy pasted from the Friendship-bracelets.net
Alternative Generator console.
<p>
Here is an example of how to convert Pattern #2. Start up the
<a href="http://friendship-bracelets.net/js_gen.php?edit=2">Alternative
Generator with Pattern #2</a> (for a different pattern replace the 2 in
the URL with the number of the pattern you wish to modify).
<p>
Write the top line of strings as a character for each colour, e.g.
<div>
<pre class="file">
yrryyrry
</pre>
</div>
Click on "Show console", and copy the text into the file below
the strings line. The final file, which can be downloaded as
<a href="pat2.txt">pat2.txt</a>, contains the following text
<div>
<pre class="file">
yrryyrry
DDdd
DDd
DDdd
DDd
</pre>
</div>
<i>pat2design</i> accepts the input pattern file as an argument and
writes the design file to standard output, so run it like this
<div>
<pre class="cmd">
pat2design pat2.txt &gt; design2.txt
</pre>
</div>
<i>design2.txt</i> contains the following text

<div>
<pre class="file">
y r r y
 y r y
r y y r
 r y r
</pre>
</div>

This can then be modified and used as input for <i>bracelet_solver</i> to
find knotting patterns.
<BR><BR>

<table cellpadding=5 cellspacing=0 border=0 width="100%">
<tr>
<td align=left class=menubox>
   Email: <A href="mailto:adrian@antiprism.com">adrian@antiprism.com</A>
</td>
<td align=RIGHT class=menubox>
   Modified: 10 October 2013
</td>
</tr>
</table>



